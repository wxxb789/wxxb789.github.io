:PROPERTIES:
:title: readwise/Mastering Docker File ğŸ³...
:END:

:PROPERTIES:
:author: [[devops_tech on Twitter]]
:full-title: "Mastering Docker File ğŸ³..."
:category: [[tweets]]
:url: https://twitter.com/devops_tech/status/1685655635420119040
:image-url: https://pbs.twimg.com/profile_images/1530153142523863040/UZi9nN1O.jpg
:END:

* Highlights first synced by [[Readwise]] [[2023-12-18]]
** ğŸ“Œ
#+BEGIN_QUOTE
Mastering Docker File ğŸ³

A thread explaining everything about a Docker File ğŸ‘‡ 

![](https://pbs.twimg.com/media/F2Smzf5aMAA_qiN.jpg) 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655635420119040)
** ğŸ“Œ
#+BEGIN_QUOTE
ğŸ“Œ Welcome to a thread on mastering Dockerfile! ğŸš€ In this thread, I'll explain each parameter with an example of a Dockerfile. 

Dockerfiles are key to building Docker images, so let's dive in! #Docker #Dockerfile #Containerization 

![](https://pbs.twimg.com/media/F2Sm1uQaEAATpuF.jpg) 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655638159069184)
** ğŸ“Œ
#+BEGIN_QUOTE
1ï¸âƒ£ FROM: This sets the base image for your Docker image. It's like the starting point for your container. For example:

FROM ubuntu:20.04

This uses the official Ubuntu 20.04 image as the base. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655640977661952)
** ğŸ“Œ
#+BEGIN_QUOTE
2ï¸âƒ£ RUN: Executes commands during the build process. Used to install packages or run any necessary setup tasks. For instance:

RUN apt-get update && apt-get install -y python3

This installs Python 3 in the image. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655643133505536)
** ğŸ“Œ
#+BEGIN_QUOTE
3ï¸âƒ£ COPY: Copies files from the host to the container's filesystem. Great for adding application code. Example:

COPY https://t.co/kI1Lzyzw9r /app/

This copies the 'https://t.co/kI1Lzyzw9r' file from the host to '/app/' in the container. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655645390045186)
** ğŸ“Œ
#+BEGIN_QUOTE
4ï¸âƒ£ WORKDIR: Sets the working directory within the container. Subsequent commands will run from this location. Example:

WORKDIR /app

This sets '/app' as the working directory. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655647923445761)
** ğŸ“Œ
#+BEGIN_QUOTE
5ï¸âƒ£ EXPOSE: Specifies the port on which the container will listen. It does not publish the port to the host. Example:

EXPOSE 8080

This exposes port 8080 within the container. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655650221826048)
** ğŸ“Œ
#+BEGIN_QUOTE
6ï¸âƒ£ CMD: Defines the default command to run when the container starts. It's often the main process of the app. Example:

CMD ["python3", "https://t.co/kI1Lzyzw9r"]

This runs 'python3 https://t.co/kI1Lzyzw9r' when the container starts. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655652478353408)
** ğŸ“Œ
#+BEGIN_QUOTE
7ï¸âƒ£ ENV: Sets environment variables within the container. Useful for configuring the application. Example:

ENV DEBUG=True

This sets the 'DEBUG' environment variable to 'True'. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655655011827712)
** ğŸ“Œ
#+BEGIN_QUOTE
8ï¸âƒ£ ARG: Defines build-time arguments. They can be passed using the --build-arg flag during image build. Example:

ARG VERSION=latest

This sets the 'VERSION' argument with a default value of 'latest'. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655657134080000)
** ğŸ“Œ
#+BEGIN_QUOTE
9ï¸âƒ£ ENTRYPOINT: Similar to CMD, but provides an entry point for d container. The CMD will be arguments to this entry point. Example:

ENTRYPOINT ["python3"]
CMD ["https://t.co/kI1Lzyzw9r"]

This sets 'python3' as the entry point & 'https://t.co/kI1Lzyzw9r' as the default argument. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655659348664320)
** ğŸ“Œ
#+BEGIN_QUOTE
Bonus Time ğŸ’°ğŸ˜ 

![](https://pbs.twimg.com/media/F2Slyx3acAEqD5F.jpg) 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655661613633536)
** ğŸ“Œ
#+BEGIN_QUOTE
1ï¸âƒ£ ADD: Similar to COPY, but with added features. It can handle URLs and automatically unpack archives. Example:

ADD https://example[dot]com/app.tar.gz /app/

This fetches 'app.tar.gz' from the web and unpacks it into '/app/'. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655664016982016)
** ğŸ“Œ
#+BEGIN_QUOTE
2ï¸âƒ£ VOLUME: Creates a mount point for external volumes. Used to share data between the host and container. Example:

VOLUME /data

This creates a volume named '/data' where data can be persisted outside the container. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655666156089344)
** ğŸ“Œ
#+BEGIN_QUOTE
3ï¸âƒ£ USER: Specifies the user to use when running the container. Helps improve security by avoiding running as root. Example:

USER appuser

This sets the user to 'appuser' in the container. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655668261535744)
** ğŸ“Œ
#+BEGIN_QUOTE
4ï¸âƒ£ LABEL: Adds metadata to the image in key-value format. Useful for versioning and documenting the image. Example:

LABEL version="1.0" maintainer="John Doe"

This adds version and maintainer labels to the image. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655670392246272)
** ğŸ“Œ
#+BEGIN_QUOTE
5ï¸âƒ£ ARG: Similar to ENV, but used during build time only. It doesn't persist in the final image. Example:

ARG BUILD_ENV=production

This sets the 'BUILD_ENV' argument with a default value of 'production'. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655672489480192)
** ğŸ“Œ
#+BEGIN_QUOTE
6ï¸âƒ£ ONBUILD: Triggers instructions to be executed when this image is used as a base for another image. Example:

ONBUILD COPY . /app

This copies the current directory's content into '/app' when this image is used as a base. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655674569863168)
** ğŸ“Œ
#+BEGIN_QUOTE
7ï¸âƒ£ STOPSIGNAL: Sets the system call signal that will be sent to the container to stop it gracefully. Example:

STOPSIGNAL SIGINT

This sets the SIGINT signal as the stop signal. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655676838887426)
** ğŸ“Œ
#+BEGIN_QUOTE
8ï¸âƒ£ HEALTHCHECK: Defines a command to check the container's health. Helps monitor the app's status. Example:

HEALTHCHECK CMD curl -f http://localhost/ || exit 1

This checks if 'http://localhost/' is reachable, failing if it's not. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655678969696256)
** ğŸ“Œ
#+BEGIN_QUOTE
9ï¸âƒ£ SHELL: Overrides the default shell used by RUN, CMD, and ENTRYPOINT. Example:

SHELL ["/bin/bash", "-c"]

This sets '/bin/bash -c' as the shell for subsequent commands. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655681280757760)
** ğŸ“Œ
#+BEGIN_QUOTE
ğŸ”Ÿ .dockerignore: Not a parameter, but a crucial file. Works like .gitignore to exclude files from the image. Example:

*.log
node_modules/

This ignores log files and the 'node_modules' directory during the build. 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655683323305985)
** ğŸ“Œ
#+BEGIN_QUOTE
ğŸ‰ You're now equipped with more Dockerfile knowledge! These parameters offer greater flexibility and control over your Docker images. Happy containerizing! ğŸš€ #Docker #Containerization #DevOps #Linux #Automation #Development 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655685642731520)
** ğŸ“Œ
#+BEGIN_QUOTE
Retweet the thread if you find it useful. Thanks!

https://t.co/UF2150kAVZ 
#+END_QUOTE
    date:: [[2023-07-31]]
*** from _Mastering Docker File ğŸ³..._ by @devops_tech on Twitter
*** [View Tweet](https://twitter.com/devops_tech/status/1685655809190227968)